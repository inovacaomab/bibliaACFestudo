<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Navegador da Bíblia ACF</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .book {
            margin-top: 20px;
        }
        .chapter {
            margin-left: 20px;
        }
        .verse {
            margin-left: 40px;
        }
        button {
            margin: 5px;
            padding: 10px;
            font-size: 16px;
        }
    </style>
</head>
<body>
    <h1>Navegador da Bíblia ACF</h1>
    <h2>Velho Testamento</h2>
    <div id="oldTestament"></div>
    <h2>Novo Testamento</h2>
    <div id="newTestament"></div>
    <div id="content"></div>

    <script>
        const books = [
            'acf-gn.xml',
            'acf-ex.xml',
            'acf-lv.xml',
            'acf-nm.xml',
            'acf-dt.xml',
            'acf-js.xml',
            'acf-jz.xml',
            'acf-rt.xml',
            'acf-1sm.xml',
            'acf-2sm.xml',
            'acf-1rs.xml',
            'acf-2rs.xml',
            'acf-1cr.xml',
            'acf-2cr.xml',
            'acf-ez.xml',
            'acf-ne.xml',
            'acf-et.xml',
            'acf-job.xml',
            'acf-sl.xml',
            'acf-pv.xml',
            'acf-ec.xml',
            'acf-ct.xml',
            'acf-is.xml',
            'acf-jr.xml',
            'acf-lm.xml',
            'acf-ez.xml',
            'acf-dn.xml',
            'acf-os.xml',
            'acf-jl.xml',
            'acf-am.xml',
            'acf-ob.xml',
            'acf-jn.xml',
            'acf-mq.xml',
            'acf-na.xml',
            'acf-hb.xml',
            'acf-sf.xml',
            'acf-ag.xml',
            'acf-zc.xml',
            'acf-ml.xml',
            'acf-mt.xml',
            'acf-mc.xml',
            'acf-lc.xml',
            'acf-jo.xml',
            'acf-at.xml',
            'acf-rm.xml',
            'acf-1co.xml',
            'acf-2co.xml',
            'acf-gl.xml',
            'acf-ef.xml',
            'acf-fp.xml',
            'acf-cl.xml',
            'acf-1ts.xml',
            'acf-2ts.xml',
            'acf-1tm.xml',
            'acf-2tm.xml',
            'acf-tt.xml',
            'acf-fm.xml',
            'acf-hb.xml',
            'acf-tg.xml',
            'acf-1pe.xml',
            'acf-2pe.xml',
            'acf-1jo.xml',
            'acf-2jo.xml',
            'acf-3jo.xml',
            'acf-jd.xml',
            'acf-ap.xml',
            // Adicione todos os livros aqui
        ];

        const oldTestament = document.getElementById('oldTestament');
        const newTestament = document.getElementById('newTestament');
        const content = document.getElementById('content');

        books.forEach(book => {
            const bookButton = document.createElement('button');
            bookButton.textContent = book.replace('acf-', '').replace('.xml', '').toUpperCase();
            bookButton.onclick = () => loadBook(book);

            if (book === 'acf-mt.xml' || books.indexOf(book) > books.indexOf('acf-mt.xml')) {
                newTestament.appendChild(bookButton);
            } else {
                oldTestament.appendChild(bookButton);
            }
        });

        function loadBook(book) {
            console.log(`Tentando carregar o livro: ${book}`);
            fetch(`acf/${book}`)
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Erro ao carregar o arquivo XML');
                    }
                    return response.text();
                })
                .then(data => {
                    console.log('Arquivo XML carregado com sucesso');
                    const parser = new DOMParser();
                    const xmlDoc = parser.parseFromString(data, "text/xml");
                    displayXML(xmlDoc, book);
                })
                .catch(error => {
                    console.error('Erro:', error);
                    content.innerHTML = `<p>Erro ao carregar o livro: ${error.message}</p>`;
                });
        }

        function displayXML(xml, book) {
            content.innerHTML = '';

            const bookElement = xml.getElementsByTagName('book')[0];
            if (!bookElement) {
                content.innerHTML = '<p>Erro: Estrutura do XML inválida</p>';
                return;
            }

            const bookTitle = document.createElement('h2');
            bookTitle.textContent = book.replace('acf-', '').replace('.xml', '').toUpperCase();
            content.appendChild(bookTitle);

            const chapters = bookElement.getElementsByTagName('chapter');
            for (let i = 0; i < chapters.length; i++) {
                const chapter = chapters[i];
                const chapterNumber = chapter.getAttribute('number');
                const chapterDiv = document.createElement('div');
                chapterDiv.className = 'chapter';
                chapterDiv.innerHTML = `<h2>Capítulo ${chapterNumber}</h2>`;

                const verses = chapter.getElementsByTagName('verse');
                for (let j = 0; j < verses.length; j++) {
                    const verse = verses[j];
                    const verseNumber = verse.getAttribute('number');
                    const verseText = verse.textContent;
                    const verseDiv = document.createElement('div');
                    verseDiv.className = 'verse';
                    verseDiv.innerHTML = `<strong>Versículo ${verseNumber}:</strong> ${verseText}`;
                    chapterDiv.appendChild(verseDiv);
                }

                content.appendChild(chapterDiv);
            }
        }
    </script>
</body>
</html>
