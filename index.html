<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Navegador da Bíblia</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .book {
            margin-top: 20px;
        }
        .chapter {
            margin-left: 20px;
        }
        .verse {
            margin-left: 40px;
        }
        button {
            margin: 5px;
            padding: 10px;
            font-size: 16px;
        }
    </style>
</head>
<body>
    <h1>Navegador da Bíblia</h1>
    <div id="bookList"></div>
    <div id="content"></div>

    <script>
        const books = [
            'acf-gn.xml',
            'acf-ex.xml',
            'acf-lev.xml',
            // Adicione todos os livros aqui
        ];

        const bookList = document.getElementById('bookList');
        const content = document.getElementById('content');

        books.forEach(book => {
            const bookButton = document.createElement('button');
            bookButton.textContent = book.replace('acf-', '').replace('.xml', '').toUpperCase();
            bookButton.onclick = () => loadBook(book);
            bookList.appendChild(bookButton);
        });

        function loadBook(book) {
            console.log(`Tentando carregar o livro: ${book}`);
            fetch(`acf/${book}`)
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Erro ao carregar o arquivo XML');
                    }
                    return response.text();
                })
                .then(data => {
                    console.log('Arquivo XML carregado com sucesso');
                    const parser = new DOMParser();
                    const xmlDoc = parser.parseFromString(data, "text/xml");
                    displayXML(xmlDoc);
                })
                .catch(error => {
                    console.error('Erro:', error);
                    content.innerHTML = `<p>Erro ao carregar o livro: ${error.message}</p>`;
                });
        }

        function displayXML(xml) {
            content.innerHTML = '';

            const book = xml.getElementsByTagName('book')[0];
            if (!book) {
                content.innerHTML = '<p>Erro: Estrutura do XML inválida</p>';
                return;
            }

            const chapters = book.getElementsByTagName('chapter');
            for (let i = 0; i < chapters.length; i++) {
                const chapter = chapters[i];
                const chapterNumber = chapter.getAttribute('number');
                const chapterDiv = document.createElement('div');
                chapterDiv.className = 'chapter';
                chapterDiv.innerHTML = `<h2>Capítulo ${chapterNumber}</h2>`;

                const verses = chapter.getElementsByTagName('verse');
                for (let j = 0; j < verses.length; j++) {
                    const verse = verses[j];
                    const verseNumber = verse.getAttribute('number');
                    const verseText = verse.textContent;
                    const verseDiv = document.createElement('div');
                    verseDiv.className = 'verse';
                    verseDiv.innerHTML = `<strong>Versículo ${verseNumber}:</strong> ${verseText}`;
                    chapterDiv.appendChild(verseDiv);
                }

                content.appendChild(chapterDiv);
            }
        }
    </script>
</body>
</html>
